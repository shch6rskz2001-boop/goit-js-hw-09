{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst formEl = document.querySelector(\".feedback-form\");\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst formData = {\n  email: \"\",\n  message: \"\",\n};\n\n// ✅ Відновлення зі сховища\nconst savedData = localStorage.getItem(STORAGE_KEY);\n\nif (savedData) {\n  try {\n    const parsedData = JSON.parse(savedData);\n\n    formData.email = parsedData.email || \"\";\n    formData.message = parsedData.message || \"\";\n\n    formEl.elements.email.value = formData.email;\n    formEl.elements.message.value = formData.message;\n  } catch (error) {\n    localStorage.removeItem(STORAGE_KEY);\n  }\n}\n\n// ✅ Обробка input з throttle 500ms\nfunction handleInput(event) {\n  const { name, value } = event.target;\n\n  if (!(name in formData)) return;\n\n  formData[name] = value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nformEl.addEventListener(\"input\", throttle(handleInput, 500));\n\n// ✅ Submit\nformEl.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    alert(\"Fill please all fields\");\n    return;\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  formEl.reset();\n\n  formData.email = \"\";\n  formData.message = \"\";\n});"],"names":["formEl","STORAGE_KEY","formData","savedData","parsedData","handleInput","event","name","value","throttle"],"mappings":"wIAEA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAc,sBAEdC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAGMC,EAAY,aAAa,QAAQF,CAAW,EAElD,GAAIE,EACF,GAAI,CACF,MAAMC,EAAa,KAAK,MAAMD,CAAS,EAEvCD,EAAS,MAAQE,EAAW,OAAS,GACrCF,EAAS,QAAUE,EAAW,SAAW,GAEzCJ,EAAO,SAAS,MAAM,MAAQE,EAAS,MACvCF,EAAO,SAAS,QAAQ,MAAQE,EAAS,OAC1C,MAAe,CACd,aAAa,WAAWD,CAAW,CACpC,CAIH,SAASI,EAAYC,EAAO,CAC1B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAExBC,KAAQL,IAEdA,EAASK,CAAI,EAAIC,EACjB,aAAa,QAAQP,EAAa,KAAK,UAAUC,CAAQ,CAAC,EAC5D,CAEAF,EAAO,iBAAiB,QAASS,EAASJ,EAAa,GAAG,CAAC,EAG3DL,EAAO,iBAAiB,SAAUM,GAAS,CAGzC,GAFAA,EAAM,eAAc,EAEhB,CAACJ,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWD,CAAW,EACnCD,EAAO,MAAK,EAEZE,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAAC"}